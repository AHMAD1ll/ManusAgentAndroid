# Manus Agent - AI-Powered Android Automation

## 🤖 نظرة عامة (Overview)

Manus Agent هو وكيل ذكاء اصطناعي يعمل محليًا على أجهزة أندرويد، مصمم لفهم الأوامر باللغة الطبيعية وتنفيذها عبر التفاعل المباشر مع واجهة المستخدم لأي تطبيق. يستفيد من خدمات الوصولية في أندرويد لأداء مهام مثل النقر، التمرير، والكتابة، مما يتيح أتمتة حقيقية للمهام الرقمية المعقدة دون الحاجة لاستخدام اليدين، مع طموح مستقبلي للوصول إلى مرحلة التطوير الذاتي.

## 🏛️ الهندسة المعمارية الأساسية (Core Architecture)

يعمل الوكيل على حلقة مستمرة من **المراقبة -> القرار -> التنفيذ**، مبنية على أربعة أعمدة أساسية:

### 1. العقل (The Brain)
- **الوظيفة**: نموذج لغة كبير (LLM) محلي لفهم نية المستخدم، التخطيط، واتخاذ القرار التالي الأفضل بناءً على سياق الشاشة الحالية.
- **التقنية الحالية**: ONNX Runtime (لتشغيل نماذج مثل Phi-3).
- **الملف**: `ManusAccessibilityService.kt` (منطق العقل مدمج حاليًا في الخدمة).

### 2. العين (The Eyes)
- **الوظيفة**: استخدام شجرة عقد الوصولية لتحليل التسلسل الهرمي للعرض الحالي، واستخراج العناصر القابلة للتفاعل إلى تمثيل نصي مبسط يفهمه العقل.
- **التقنية**: Android Accessibility Node Tree.
- **الملف**: `ManusAccessibilityService.kt` (وظائف `captureScreenContent`).

### 3. اليد (The Hands)
- **الوظيفة**: تنفيذ الإجراءات المادية (النقر، الكتابة) على عناصر واجهة المستخدم التي يحددها العقل.
- **التقنية**: Android Accessibility Service Actions.
- **الملف**: `ManusAccessibilityService.kt`.

### 4. الذاكرة (The Memory)
- **الوظيفة**: مدير حالة يحتفظ بالهدف النهائي للمستخدم، ويتتبع الخطوات المكتملة، ويوفر السياق للـ LLM، مما يتيح تنفيذ المهام متعددة الخطوات.
- **التقنية**: متغيرات الحالة داخل الخدمة (سيتم تطويرها لاحقًا).

## 🧩 المكونات الرئيسية (Key Components)

- **`ManusAccessibilityService.kt`**: الخدمة الرئيسية التي تحتوي على كل منطق الوكيل (العين، اليد، العقل).
- **`MainActivity.kt`**: واجهة المستخدم الرئيسية لإدخال الأوامر، إدارة الأذونات، وعرض حالة الوكيل.

## 🛠️ التقنيات المستخدمة (Tech Stack)

- **اللغة**: Kotlin
- **واجهة المستخدم**: Jetpack Compose
- **الذكاء الاصطناعي**: ONNX Runtime for Android
- **النظام الأساسي**: Android Accessibility Service
- **بيئة التطوير**: Android Studio / Visual Studio Code

## 📋 متطلبات التشغيل (Requirements)

- Android API 24+ (Android 7.0)
- تمكين خدمة الوصولية.
- إذن الوصول لجميع الملفات (لنسخ نماذج الذكاء الاصطناعي عند الإعداد الأولي).

## 🚀 خطوات التثبيت والتفعيل (Setup & Activation)

### 1. الإعداد الأولي
1.  قم بتنزيل أحدث ملف `manus-agent-apk.apk` من قسم **Releases** على GitHub.
2.  قم بتنزيل ملفات النموذج (`phi3.onnx`, `phi3.onnx.data`, `tokenizer.json`) وضعها في مجلد `Download` على جهازك.
3.  قم بتثبيت التطبيق.

### 2. منح الأذونات
1.  عند فتح التطبيق لأول مرة، سيطلب منك **إذن الوصول لجميع الملفات**. امنح الإذن.
2.  سيقوم التطبيق بنسخ ملفات النموذج تلقائيًا.
3.  بعد اكتمال النسخ، سيطلب منك **تفعيل خدمة الوصولية**.

### 3. تفعيل الخدمة
1.  انقر على زر "تفعيل خدمة الوصولية".
2.  في إعدادات الوصولية، ابحث عن "Manus Agent" في قائمة التطبيقات المثبتة وقم بتمكينها.
3.  اقبل تحذير النظام حول التحكم في الشاشة.

### 4. بدء الاستخدام
1.  ارجع إلى تطبيق Manus Agent. يجب أن ترى الآن شاشة التحكم الرئيسية.
2.  أدخل الأمر المطلوب في حقل النص وانقر على "بدء المهمة".

## 🔒 الأمان والخصوصية (Security & Privacy)

- **المعالجة المحلية**: جميع العمليات، بما في ذلك استنتاجات نموذج الذكاء الاصطناعي، تتم بالكامل على الجهاز.
- **لا اتصال بالإنترنت**: التطبيق لا يرسل أي بيانات (محتوى الشاشة، أوامر، إلخ) إلى خوادم خارجية.
- **التحكم الكامل للمستخدم**: يتطلب التطبيق موافقة صريحة لتمكين خدمة الوصولية، ويمكن إيقافها في أي وقت.

## 🗺️ خارطة الطريق المستقبلية (Future Roadmap)

يهدف Manus Agent إلى التطور المستمر ليصبح وكيلاً أكثر ذكاءً وكفاءة. خطتنا ترتكز على ثلاث مراحل رئيسية من التطوير:

### المرحلة الأولى: التمكن من المهام (Task Mastery) - (ما نعمل عليه الآن)
- [x] بناء البنية الأساسية للوكيل (العين، اليد، العقل، الذاكرة).
- [ ] تمكين الوكيل من فهم وتنفيذ الأوامر البسيطة متعددة الخطوات.
- [ ] تحسين فهم السياق وقدرة النموذج على التعامل مع الشاشات المعقدة.
- [ ] تكامل الأوامر الصوتية (Speech-to-Text) لتسهيل إدخال الأوامر.

---

### المرحلة الثانية: التعلم من التجربة (Learning from Experience)
- [ ] **تسجيل المهام الناجحة:** إنشاء "ذاكرة إجرائية" حيث يقوم الوكيل بحفظ تسلسل الخطوات التي أدت إلى إنجاز مهمة بنجاح.
- [ ] **التعلم بالملاحظة (Observational Learning):** تمكين وضع "التسجيل"، حيث يراقب الوكيل المستخدم وهو يؤدي مهمة جديدة، ثم يحاول تكرارها بنفسه لاحقًا.
- [ ] **التعلم المعزز من التقييم (Reinforcement Learning from Feedback):** إضافة أزرار "👍 مهمة ناجحة" و "👎 مهمة فاشلة" بعد كل عملية. يستخدم الوكيل هذا التقييم لتحسين استراتيجياته المستقبلية وتجنب الأخطاء.

---

### المرحلة الثالثة: التطوير الذاتي المتكرر (Recursive Self-Improvement) - (الهدف الأسمى)
- [ ] **القدرة على تحليل الكود المصدري:** تمكين الوكيل من قراءة وفهم الكود المصدري الخاص به كجزء من سياقه.
- [ ] **التخطيط لتحسين الذات:** بناءً على تحليله، سيقوم الوكيل بوضع خطط لتحسين خوارزمياته، أو استبدال نماذجه بنماذج أحدث وأقوى، أو إصلاح الأخطاء في منطقه البرمجي.
- [ ] **تعديل الكود ذاتيًا:** منح الوكيل القدرة على التفاعل مع بيئة التطوير (مثل محرر الأكواد وسطر الأوامر) لتنفيذ التغييرات التي خطط لها على نفسه.
- [ ] **إنشاء حلقة التحسين الذاتي:** الوصول إلى مرحلة يستطيع فيها الوكيل تشغيل دورة (تحليل -> تخطيط -> تنفيذ -> اختبار) بشكل مستقل، مما يؤدي إلى تطور مستمر في ذكائه وقدراته دون تدخل بشري مباشر.

---

**تحذير**: هذا التطبيق يتطلب أذونات الوصولية للعمل. تأكد من فهم المخاطر المحتملة قبل تمكين هذه الأذونات.
